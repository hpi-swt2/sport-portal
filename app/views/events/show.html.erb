<p id="notice"><%= notice %></p>


<%- model_class = Event -%>
<div class="page-header">
  <h1><%=t '.title', :default => model_class.model_name.human.titleize %></h1>
</div>

<dl class="dl-horizontal">
  <% [:name, :description, :discipline, :game_mode, :max_teams, :deadline, :startdate, :enddate].each do |attribute| %>
    <dt><strong><%= model_class.human_attribute_name(attribute) %>:</strong></dt>
    <dd><%= @event.send attribute %></dd>
  <% end %>
</dl>

<%= link_to t('.to_schedule'),
            event_schedule_path(@event), :class => 'btn btn-default' %>

<%# app/helpers/button_helper.rb %>
<%= back_btn %>

<% if user_signed_in? %>
  <% if @event.player_type == Event.player_types[:single] %>
      <% if @event.users.where("user_id = ?", @user.id).exists? %>
          <%= link_to 'Leave Event', join_event_path(@event), :method => "put",
                      :class => 'btn btn-default', id: :leavebutton%>
          Participating
      <% else %>
          <%= link_to 'Join Event',join_event_path(@event), :method => "put",
                      :class => 'btn btn-default', id: :joinbutton%>
      <% end %>
  <% end %>
    <% if current_user.organizing_events.include?(@event) %>

  <%= link_to t('.edit', :default => t("helpers.links.edit")),
              edit_event_path(@event), :class => 'btn btn-default' %>
  <%= link_to t('.destroy', :default => t("helpers.links.destroy")),
              event_path(@event),
              :method => 'delete',
              :data => { :confirm => t('.confirm', :default => t("helpers.links.confirm")) },
              :class => 'btn btn-danger' %>
  <% end %>
<% end %>