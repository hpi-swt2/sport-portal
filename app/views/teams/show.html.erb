<%- model_class = Team -%>
<div class="page-header">
  <h1><%=t '.title', :default => model_class.model_name.human.titleize %></h1>
</div>

<dl class="dl-horizontal">
  <dt><strong><%=t '.name', :default => t("helpers.name") %>:</strong></dt>
  <dd><%= @team.name %></dd>
</dl>

<dl class="dl-horizontal">
  <dt><strong><%=t '.kind_of_sport', :default => t("helpers.teams.kind_of_sport") %>:</strong></dt>
  <dd><%= @team.kind_of_sport %></dd>
</dl>

<dl class="dl-horizontal">
  <dt><strong><%=t '.description', :default => t("helpers.teams.description") %>:</strong></dt>
  <dd><%= @team.description %></dd>
</dl>

<table class="table table-striped">
  <tbody>
    <% @team.members.each do |member| %>
      <tr>
        <td>
          <%= member.id%> <%= member.first_name%> <%= member.last_name%>
            
          <% if can? :delete_ownership, @team %>
            <%= link_to t('.delete_ownership', :default => t("helpers.links.delete_ownership")),
            delete_ownership_team_path(@team, :team_member => member.id), :method => 'post', :class => 'btn btn-default btn-xs' if @team.owners.include? member %>
          <% end %>

          <% if can? :assign_ownership, @team %>
            <%= link_to t('.assign_ownership', :default => t("helpers.links.assign_ownership")),
            assign_ownership_team_path(@team, :team_member => member.id), :method => 'post', :class => 'btn btn-default btn-xs' if !@team.owners.include? member  %>
          <% end %>
          

          <%= link_to t('.delete_membership', :default => t("helpers.links.delete_membership")),
          delete_membership_team_path(@team, :team_member => member.id), :method => 'post', :class => 'btn btn-xs btn-danger' %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>

<%# app/helpers/button_helper.rb %>
<%= back_btn %>
<%= link_to t('.edit', :default => t("helpers.links.edit")),
              edit_team_path(@team), :class => 'btn btn-default' %>
<%= link_to t('.destroy', :default => t("helpers.links.destroy")),
              team_path(@team),
              :method => 'delete',
              :data => { :confirm => t('.confirm', :default => t("helpers.links.confirm")) },
              :class => 'btn btn-danger' %>
